<p id="notice"><%= notice %></p>

<div class="container">

  <div class="col-md-6">
    <%= link_to 'Back', blogs_path, class: 'btn btn-primary my-4' %>
    <div class="card flex-md-row mb-4 shadow-sm h-md-250">
      <div class="card-body d-flex flex-column align-items-start">
        <strong class="d-inline-block mb-2 text-primary">Important Stuff</strong>
        <h3 class="mb-0">
          <%= @blog.title %>
        </h3>
      </div>

      <% if @blog.image %>
      <%= image_tag @blog.image, class: 'img-responsive', height: '300px' %>
      <% end %>

      <div class="card-footer d-flex">
        <% if @blog.user_id == current_user.id  %>
        <%= link_to 'Edit', edit_blog_path(@blog) %>|
        <%= link_to 'Delete', blog_url(@blog), method: :delete, data: { confirm: 'Are you sure?' } %>
        <% end %>
      </div>
    </div>
    <p>
      <%= @blog.body %>
    </p>

    <div class="container">
      <ul class="list-group">
        <% @blog.comments.each do |comment| %>
        <li class="list-group-item">
          <%= link_to user_url(comment.user_id, comment) do %>
        <h5><%= comment.user.fullname%></h5>
        <% end %>
          <%= comment.body %>
          <br>
          <br>
          <%if user_signed_in? %>
            <% if  current_user.id ==
              comment.user.id  %>
              <small><%= link_to 'Edit Comment', edit_blog_comment_path(@blog,comment)%></small> |
              <small><%= link_to 'Delete Comment', blog_comment_path(@blog, comment), method: :delete, data: { confirm: 'Are you sure?' } %></small>
            <% end %>
          <% end %>
        </li>
        <% end %>
      </ul>

      <br>
      <%= link_to 'New Comment', new_blog_comment_path(@blog) %>

    </div>
  </div>
</div>
